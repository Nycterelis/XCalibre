@using XCalibre.Models.Helpers;
@using XCalibre.Models;
@using XCalibre.Controllers
@using Microsoft.AspNet.Identity;
@using Microsoft.AspNet.Identity.EntityFramework;

@model IEnumerable<XCalibre.Models.AdminUserViewModel>

@{
    ViewBag.Title = "Index";
}




<div class="row">
    @foreach (var u in Model)
    {

        var fullname = u.User != null ? u.User.FullName : "";
        var picture = u.User != null ? u.User.ProfilePicture : "../assets/images/users/avatar-1.jpg";

        <div class="col-md-4">
            <div class="text-center card-box">

                <div class="member-card pt-2 pb-2">
                    <div class="thumb-lg member-thumb m-b-10 mx-auto">
                        <img src=@picture class="rounded-circle img-thumbnail" alt="profile-image">
                    </div>

                    <div class="">
                        <h4 class="m-b-5">@fullname</h4>
                        <p class="text-muted">
                            @{ string roleString = string.Join(", ", u.SelectedRoles);
                                @roleString;
                            }
                            @*<span> | </span>*@
                        </p>
                    </div>

                    @if (User.IsInRole("Admin"))
                    {
                        @Html.ActionLink("Edit Roles", "EditUser", new { id = u.User.Id }, new { @class = "btn btn-custom m-t-20 btn-rounded btn-bordered waves-effect w-md waves-light" })

                    }

                </div>
            </div> <!-- end col -->
        </div>
    }
</div>



@*=======================================================================================================
        Below is a place to show number of Projects, Tickets, and Comments. Not sure how to get those values.
    ========================================================================================================*@
@*<div class="mt-4">
            <div class="row">
                <div class="col-4">
                    <div class="mt-3">
                        <h4 class="m-b-5">@u.User.Projects.Count()</h4>
                        <p class="mb-0 text-muted">Projects</p>
                    </div>
                </div>
                <div class="col-4">
                    <div class="mt-3">
                        <h4 class="m-b-5">@u.User.</h4>
                        <p class="mb-0 text-muted">Tickets</p>
                    </div>
                </div>
                <div class="col-4">
                    <div class="mt-3">
                        <h4 class="m-b-5">1125</h4>
                        <p class="mb-0 text-muted">Comments</p>
                    </div>
                </div>
            </div>
        </div>

    </div>*@














